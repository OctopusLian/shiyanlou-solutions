# Python实现图片隐写术  

## 简介  

通过 Python3 实现将关键信息隐藏在图片的效果，主要目的是为了不让预期接收者以外的人知晓传递的内容。与电视剧中使用特殊墨水传递信息一样，表面看就是一张什么都没写的白纸，实则暗藏着重要信息。 

## wikipedia 关于隐写术的介绍：

隐写术是一门关于信息隐藏的技巧与科学，所谓信息隐藏指的是不让除预期的接收者之外的任何人知晓信息的传递事件或者信息的内容。隐写术的英文叫做 Steganography，来源于特里特米乌斯的一本讲述密码学与隐写术的著作 Steganographia，该书书名源于希腊语，意为“隐秘书写”。  

## 知识点  

- Pillow 模块  
- 最低有效位  
- lambda 表达式递归  
- UTF-8 编码  

## 实验原理  

引用 wikipedia 的解释：  

载体文件（cover file）相对隐秘文件的大小（指数据含量，以比特计）越大，隐藏后者就越加容易。

因为这个原因，数字图像（包含有大量的数据）在因特网和其它媒介上被广泛用于隐藏消息。这种方法使用的广泛程度无从查考。例如：一个 24 位的位图中的每个像素的三个颜色分量（红，绿和蓝）各使用 8 个比特来表示。如果我们只考虑蓝色的话，就是说有 2^8 种不同的数值来表示深浅不同的蓝色。而像 11111111 和 11111110 这两个值所表示的蓝色，人眼几乎无法区分。因此，这个最低有效位就可以用来存储颜色之外的信息，而且在某种程度上几乎是检测不到的。如果对红色和绿色进行同样的操作，就可以在差不多三个像素中存储一个字节的信息。

更正式一点地说，使隐写的信息难以探测的，也就是保证 “有效载荷”（需要被隐蔽的信号）对 “载体”（即原始的信号）的调制对载体的影响看起来（理想状况下甚至在统计上）可以忽略。这就是说，这种改变应该无法与载体中的噪声加以区别。

（从信息论的观点来看，这就是说信道的容量必须大于传输“表面上”的信号的需求。这就叫做信道的冗余。对于一幅数字图像，这种冗余可能是成像单元的噪声；对于数字音频，可能是录音或者放大设备所产生的噪声。任何有着模拟放大级的系统都会有所谓的热噪声（或称 “1/f” 噪声），这可以用作掩饰。另外，有损压缩技术（如 JPEG）会在解压后的数据中引入一些误差，利用这些误差作隐写术用途也是可能的。）

隐写术也可以用作数字水印，这里一条消息（往往只是一个标识符）被隐藏到一幅图像中，使得其来源能够被跟踪或校验。

**总而言之，本实验便是利用图片四个颜色分量（rgba）的最低有效位（英语：Least Significant Bit，lsb）来隐藏信息（本实验隐藏的是文字）。**  

## 开始  

### 安装包  

```
$ sudo pip3 install -U pip        # 升级包管理工具 pip3

$ sudo pip3 install pillow        # 安装所需工具包 pillow
```

### 编码  

略。  

### 运行  

```
python3 steganography.py coffee.png coffee_milk.png
```