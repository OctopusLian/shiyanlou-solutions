# 词频统计程序  

## 希望有以下功能  

- 统计多个文件中英文单词出现的次数  
- 按照词频从多到少排序输出  
- 支持并发  

## 实现  

逻辑：我们首先会创建一个映射，然后读取文件的每一行，提取单词，然后更新映射中单词所对应的数量即可。  

为了演示面向对象和goroutine的使用，我们将基础映射类型封装成了一个统计单词频率的包。  
我们在基础映射类型上创建额类型`WordCound`，然后为该类型了实现了关键方法`UpdateFreq()`和`WordFreqCounter()`，其中前者会读取一个文件并统计该文件中的所有单词的词频，后者通过goroutine实现了并发统计。  
其并发逻辑是：对于每一个文件，创建一个goroutine，在这个goroutine内部调用`UpdateFreq()`方法统计对应文件的词频，当统计完成以后会将映射中每一对键值转化为`Pair`结构发送到`results`通道，并在发送完成时候发送一个空结构体的值到`done`通道以表示自己的任务已经完成。由于`map`映射结构不支持并发写操作，所以我们通过`result`通道来保证每次只有一个goroutine能更新映射。又因为当所有的goroutine结束以后，有可能`results`通道中还有没来得及处理的数据，所以在`WordFreqCounter()`的结尾我们又开启了一个`for`循环处理`results`通道中的剩余数据。  

## 运行  

```
go build wordfreq.go


```